<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>錢包</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:新細明體;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"\@新細明體";
	panose-1:2 1 6 1 0 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:24.0pt;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:3.0cm 89.85pt 3.0cm 89.85pt;
	layout-grid:18.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-TW link="#0563C1" vlink="#954F72" style='word-wrap:break-word;
text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:18.0pt'>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>區塊鏈常被比喻是一個分散式的公開帳本，帳本記錄了每個帳戶擁有那些加密貨幣資產，以及交易的紀錄。有幾個名詞會常看到：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><b><span style='font-family:"新細明體",serif'>公鑰（</span><span
lang=EN-US>Public Key</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>：又稱<b>錢包地址（</b></span><b><span lang=EN-US>Wallet
Address</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>或是<b>帳戶（</b></span><b><span lang=EN-US>Account</span></b><b><span
style='font-family:"新細明體",serif'>）</span></b><span style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>就像銀行帳戶，可以擁有加密貨幣資產。把地址告訴別人，對方就能轉帳進來，所以是可以公開的。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>Pi</span><span
style='font-family:"新細明體",serif'>的公鑰是以“</span><span lang=EN-US>G</span><span
style='font-family:"新細明體",serif'>”開頭的、</span><span lang=EN-US>56</span><span
style='font-family:"新細明體",serif'>個字元的字串。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>（嚴格講起來，在比特幣中的公鑰與錢包地址是不同的，錢包地址是由公鑰單向推導而來，無法由錢包地址反推回公鑰。但在</span><span
lang=EN-US>Pi</span><span style='font-family:"新細明體",serif'>當中我們就當成是相同的吧。）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><b><span style='font-family:"新細明體",serif'>私鑰（</span><span
lang=EN-US>Private Key</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>：又稱<b>密鑰（</b></span><b><span lang=EN-US>Secret
key</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>、<b>錢包密碼（</b></span><b><span lang=EN-US>Wallet
Password</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>可以想像成銀行帳戶的密碼，有了密碼就可以控制帳戶內的資產，所以<span
style='background:yellow'>千萬不能讓其他人知道</span>。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>私鑰跟公鑰是成對的，私鑰是隨機產生的一串英文和數字，然後透過密碼學演算法從私鑰產生公鑰（但這個過程不可逆，無法由公鑰反推出私鑰）。所以是沒有「改密碼」這件事的，換一個私鑰，表示對應的公鑰也變了，但是可以建立許多對「私鑰</span><span
lang=EN-US>+</span><span style='font-family:"新細明體",serif'>公鑰」的組合。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>Pi</span><span
style='font-family:"新細明體",serif'>的私鑰也是</span><span lang=EN-US>56</span><span
style='font-family:"新細明體",serif'>個字元，但它以字母“</span><span lang=EN-US>S</span><span
style='font-family:"新細明體",serif'>”開頭。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><b><span style='font-family:"新細明體",serif'>助記詞（</span><span
lang=EN-US>Mnemonic Phrase</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>：又稱<b>助記碼</b>、<b>助憶詞</b>、<b>種子短語（</b></span><b><span
lang=EN-US>seed phrase</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>、<b>密語（</b></span><b><span lang=EN-US>secret
phrase</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>、<b>恢復密碼（</b></span><b><span lang=EN-US>Recovery
Passphrase</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>因為私鑰實在太難記憶了，為了拯救人類可憐的腦袋，所以</span><span
lang=EN-US>BIP39</span><span style='font-family:"新細明體",serif'>（</span><span
lang=EN-US>Bitcoin Improvement Proposal: 39</span><span style='font-family:
"新細明體",serif'>）登場了，簡單的說：<span style='background:yellow'>助記詞</span></span><span
style='background:yellow'> </span><span lang=EN-US style='font-family:Wingdings;
background:yellow'>à</span><span lang=EN-US style='background:yellow'> </span><span
style='font-family:"新細明體",serif;background:yellow'>種子</span><span
style='background:yellow'> </span><span lang=EN-US style='font-family:Wingdings;
background:yellow'>à</span><span lang=EN-US style='background:yellow'> </span><span
style='font-family:"新細明體",serif;background:yellow'>私鑰</span><span
style='background:yellow'> </span><span lang=EN-US style='font-family:Wingdings;
background:yellow'>à</span><span lang=EN-US style='background:yellow'> </span><span
style='font-family:"新細明體",serif;background:yellow'>公鑰</span><span
style='font-family:"新細明體",serif'>。沒錯，是先有助記詞才推導出私鑰，不是把私鑰轉換成助記詞的格式。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>助記詞為若干個常見的英文單字（例如</span><span
lang=EN-US>Pi</span><span style='font-family:"新細明體",serif'>是</span><span
lang=EN-US>24</span><span style='font-family:"新細明體",serif'>個單字），容易閱讀與記憶，<span
style='background:yellow'>它的重要性等同於私鑰</span>。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>但對於</span><span
lang=EN-US>Pi</span><span style='font-family:"新細明體",serif'>錢包來講，根本就不顯示私鑰給使用者看，只有顯示助記詞（只有</span><span
lang=EN-US>Developer App Wallet</span><span style='font-family:"新細明體",serif'>是用私鑰解鎖與簽署）。所以在</span><span
lang=EN-US>Pi</span><span style='font-family:"新細明體",serif'>的世界中，助記詞常被視為私鑰，就連</span><span
lang=EN-US>APP</span><span style='font-family:"新細明體",serif'>介面也是寫「助記詞</span><span
lang=EN-US>(</span><span style='font-family:"新細明體",serif'>私鑰</span><span
lang=EN-US>)</span><span style='font-family:"新細明體",serif'>」。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><b><span lang=EN-US>BIP32</span></b></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>區塊鏈是匿名的（</span><span
lang=EN-US>KYC</span><span style='font-family:"新細明體",serif'>之後就難講了），但卻是透明的，一旦有人知道你的錢包地址，就能知道你所有的交易內容。所以你可能會想要有好幾個地址，不同的交易使用不同的地址。但如果要使用不同的地址，就需要不同的私鑰，也就產生了管理的麻煩。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>BIP32</span><span
style='font-family:"新細明體",serif'>就在這種情況下出現了，它定義了<b>分層確定性錢包（</b></span><b><span
lang=EN-US>Hierarchical Deterministic Wallets, HD Wallet</span></b><b><span
style='font-family:"新細明體",serif'>）</span></b><span style='font-family:"新細明體",serif'>。概念是用一個隨機的<b>種子（</b></span><b><span
lang=EN-US>Seed</span></b><b><span style='font-family:"新細明體",serif'>）</span></b><span
style='font-family:"新細明體",serif'>產生第一把私鑰，稱為</span><span lang=EN-US>Master Key</span><span
style='font-family:"新細明體",serif'>，利用</span><span lang=EN-US>Master Key</span><span
style='font-family:"新細明體",serif'>又可以繼續往下一層產生更多子</span><span lang=EN-US>Keys</span><span
style='font-family:"新細明體",serif'>，而子</span><span lang=EN-US>Keys</span><span
style='font-family:"新細明體",serif'>也都可以再往下產生多個孫</span><span lang=EN-US>Keys</span><span
style='font-family:"新細明體",serif'>。其架構如下圖所示：</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US><img width=700
height=470 id="圖片 4" src="wallet.files/image001.png"></span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>一個系統可以從單一個種子產生一樹狀結構儲存多組</span><span
lang=EN-US>keypairs</span><span style='font-family:"新細明體",serif'>（私鑰和公鑰）。好處是可以方便的備份、轉移到其他相容裝置（因為都只需要種子），以及分層的權限控制等。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><b><span lang=EN-US>BIP39</span></b></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>即使有了種子可以管理多個私鑰，但仍然不方便記憶，所以</span><span
lang=EN-US>BIP39</span><span style='font-family:"新細明體",serif'>提出使用隨機演算法生成的多個單詞，採用</span><span
lang=EN-US>PBKDF2</span><span style='font-family:"新細明體",serif'>（</span><span
lang=EN-US>Password-Based Key Derivation Function</span><span style='font-family:
"新細明體",serif'>）方法推導出二進位種子，用生成的種子來推導私鑰。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>助記詞生成的過程是這樣的：先產生一個</span><span
lang=EN-US>128</span><span style='font-family:"新細明體",serif'>位隨機數，再加上對隨機數做的校驗和</span><span
lang=EN-US>4</span><span style='font-family:"新細明體",serif'>位，得到一個</span><span
lang=EN-US>132</span><span style='font-family:"新細明體",serif'>位的數，然後按每</span><span
lang=EN-US>11</span><span style='font-family:"新細明體",serif'>位做切分，這樣就有了</span><span
lang=EN-US>12</span><span style='font-family:"新細明體",serif'>個二進位數字，然後用每個數去查</span><span
lang=EN-US>BIP39</span><span style='font-family:"新細明體",serif'>定義的</span><span
lang=EN-US><a
href="https://github.com/bitcoin/bips/blob/master/bip-0039/english.txt"><span
lang=EN-US style='font-family:"新細明體",serif'><span lang=EN-US>單詞表</span></span></a></span><span
style='font-family:"新細明體",serif'>，這樣就得到</span><span lang=EN-US>12</span><span
style='font-family:"新細明體",serif'>個助記詞。也可以用更長的隨機數，就能產生更多助記詞，被暴力解碼的難度就更大，更安全。如</span><span
lang=EN-US>Pi</span><span style='font-family:"新細明體",serif'>就是用</span><span
lang=EN-US>256</span><span style='font-family:"新細明體",serif'>位隨機數產生</span><span
lang=EN-US>24</span><span style='font-family:"新細明體",serif'>個助記詞。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>助記詞推導出種子：這個過程使用</span><span
lang=EN-US>PBKDF2</span><span style='font-family:"新細明體",serif'>密鑰延伸（</span><span
lang=EN-US>Key stretching</span><span style='font-family:"新細明體",serif'>）函數，來增強弱密鑰的安全性。基本原理是通過一個隨機函數（例如</span><span
lang=EN-US>HMAC</span><span style='font-family:"新細明體",serif'>函數），把助記詞明文和“鹽”作為輸入參數，然後重複進行運算最終產生生成一個更長的（</span><span
lang=EN-US>512</span><span style='font-family:"新細明體",serif'>位）密鑰種子。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>“鹽”是由字串</span><span
lang=EN-US>&quot;mnemonic&quot;</span><span style='font-family:"新細明體",serif'>及一個可選的密碼組成，可以提高暴力破解的難度，注意使用不同密碼，則延伸函數在使用同一個助記詞的情況下會產生一個不同的種子。</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:24.0pt'><span lang=EN-US><img border=0
width=594 height=224 id="圖片 6" src="wallet.files/image002.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>u<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><b><span lang=EN-US>BIP44</span></b></p>

<p class=MsoNormal style='margin-left:24.0pt'><span style='font-family:"新細明體",serif'>因為</span><span
lang=EN-US>Master Key</span><span style='font-family:"新細明體",serif'>底下可以生成出無限多的子密鑰、孫密鑰、</span><span
lang=EN-US>...</span><span style='font-family:"新細明體",serif'>。所以</span><span
lang=EN-US>BIP</span><span style='font-family:"新細明體",serif'>規範了這些分層路徑的定義，也擴展了對多幣種的支援。這裡有完整的</span><span
lang=EN-US><a
href="https://github.com/satoshilabs/slips/blob/master/slip-0044.md"><span
lang=EN-US style='font-family:"新細明體",serif'><span lang=EN-US>幣種列表</span></span></a></span><span
style='font-family:"新細明體",serif'>，</span><span lang=EN-US>Pi Network</span><span
style='font-family:"新細明體",serif'>是</span><span lang=EN-US>Coin type 314159</span><span
style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>有個觀念要澄清，<span
style='background:yellow'>錢包並沒有真正儲存加密貨幣資產</span>，這些資產是在區塊鏈上，錢包只是提供與區塊鏈互動工具。基本上<span
style='background:yellow'>可以協助使用者管理私鑰的服務，都可以稱作錢包</span>。那管理私鑰大致可分成三種功能：<span
style='background:yellow'>生成私鑰，儲存私鑰，使用私鑰</span>。所以錢包有各種的形式，包含紙錢包（就是把私鑰印在紙上，這也算儲存私鑰）、硬體錢包、軟體錢包、網頁錢包、托管式錢包等等。若錢包能連上區塊鏈網路，就能做為參與區塊鏈網路的入口，比如發起交易、進行資產的轉移。</span></p>

<div style='border:none;border-bottom:solid windowtext 1.0pt;padding:0cm 0cm 1.0pt 0cm'>

<p class=MsoNormal style='border:none;padding:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span style='font-family:
"新細明體",serif'>聰明的你有沒有發現一件事？私鑰與公鑰是可以離線生成的，只要在本機執行一個非對稱加密演算法即可，與是否連網無關。而且因為</span><span
lang=EN-US>Pi</span><span style='font-family:"新細明體",serif'>有「</span><span
lang=EN-US><a href="https://yuanrui919.github.io/minbal/"><span lang=EN-US
style='font-family:"新細明體",serif'><span lang=EN-US>最低餘額</span></span></a></span><span
style='font-family:"新細明體",serif'>」的限制，光是有一對密鑰對，並不代表帳戶已經建立，必須由其他帳戶提供資金來建立。</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span style='font-family:
"新細明體",serif'>最後談談私鑰儲存在手機的安全，這裡的「儲存」並不是指將助記詞截圖或文字儲存在手機，而是當你使用助記詞解鎖錢包後，可以選擇啟用生物辨識功能，以後就能用臉部辨識或指紋辨識來解鎖，因為</span><span
lang=EN-US>Pi</span><span style='font-family:"新細明體",serif'>錢包就將你的助記詞加密後儲存在手機上。</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span style='font-family:
"新細明體",serif'>這樣安全嗎？大家該有的觀念是，世界上沒有什麼系統是</span><span lang=EN-US>100%</span><span
style='font-family:"新細明體",serif'>安全的，這一切都只是成本考量。使用助記詞也有可能被側錄、被釣魚騙走。也可以參考這篇對</span>
<span lang=EN-US><a href="https://applealmond.com/posts/28630">Face ID</a> </span><span
style='font-family:"新細明體",serif'>的報導。</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span lang=EN-US>&nbsp;</span></p>

</div>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US><a
href="https://yuanrui919.github.io/"><span lang=EN-US style='font-family:"新細明體",serif'><span
lang=EN-US>回首頁</span></span></a></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>

<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>解決2022/10/1以後新節點轉圈圈</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:新細明體;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@新細明體";
	panose-1:2 1 6 1 0 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:24.0pt;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 2.0cm 2.0cm 2.0cm;
	layout-grid:18.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-TW link="#0563C1" vlink="#954F72" style='word-wrap:break-word;
text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:18.0pt'>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>工商一下我的</span><span
lang=EN-US>Pi APP</span><span style='font-family:"新細明體",serif'>：</span></p>

<div style='border:none;border-bottom:solid windowtext 1.0pt;padding:0cm 0cm 1.0pt 0cm'>

<p class=MsoNormal style='border:none;padding:0cm'><span lang=EN-US>pi://donateyuanrui.000webhostapp.com</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span lang=EN-US>&nbsp;</span></p>

</div>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>如果你的節點是</span><span
lang=EN-US>2022/10/1</span><span style='font-family:"新細明體",serif'>以後才安裝，或移除又重裝的，會卡在這裡轉圈圈。</span></p>

<p class=MsoNormal><span lang=EN-US><img width=596 height=726 id="圖片 14"
src="circling.files/image001.png" alt="一張含有 文字 的圖片&#10;&#10;自動產生的描述"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>原因是節點程式會根據</span><span
lang=EN-US>containerFlavor</span><span style='font-family:"新細明體",serif'>這項參數的設定值來決定啟動哪個</span><span
lang=EN-US>Container</span><span style='font-family:"新細明體",serif'>。如果是</span><span
lang=EN-US>stellar</span><span style='font-family:"新細明體",serif'>，則執行</span><span
lang=EN-US>pi-consensus Container</span><span style='font-family:"新細明體",serif'>；如果是</span><span
lang=EN-US>dummy</span><span style='font-family:"新細明體",serif'>，則執行</span><span
lang=EN-US>stellar-dummy Container</span><span style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>在</span><span
lang=EN-US>2022/3/14</span><span style='font-family:"新細明體",serif'>之前，只有少數人被允許執行</span><span
lang=EN-US>pi-consensus Container</span><span style='font-family:"新細明體",serif'>，其他人都只能跑</span><span
lang=EN-US>stellar-dummy Container</span><span style='font-family:"新細明體",serif'>。那時大部分人的</span><span
lang=EN-US>containerFlavor</span><span style='font-family:"新細明體",serif'>的值是</span><span
lang=EN-US>dummy</span><span style='font-family:"新細明體",serif'>，而少數天選之人的值是</span><span
lang=EN-US>stellar</span><span style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>從</span><span
lang=EN-US>2022/3/14</span><span style='font-family:"新細明體",serif'>以後，全部架設節點的人都能獲得</span><span
lang=EN-US>pi-consensus Container</span><span style='font-family:"新細明體",serif'>，所以大家的</span><span
lang=EN-US>containerFlavor</span><span style='font-family:"新細明體",serif'>的值都改成了</span><span
lang=EN-US>stellar</span><span style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>節點程式在啟動時會連線到</span><span
lang=EN-US>sync.minepi.com</span><span style='font-family:"新細明體",serif'>，以</span><span
lang=EN-US>uuid</span><span style='font-family:"新細明體",serif'>查詢</span><span
lang=EN-US>containerFlavor</span><span style='font-family:"新細明體",serif'>的值，並且更新本機的</span><span
lang=EN-US>user-preferences.json</span><span style='font-family:"新細明體",serif'>檔案。如果</span><span
lang=EN-US>sync.minepi.com</span><span style='font-family:"新細明體",serif'>連不上，則查詢本機的</span><span
lang=EN-US>user-preferences.json</span><span style='font-family:"新細明體",serif'>檔案的內容。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>但從</span><span
lang=EN-US>2022/10/1</span><span style='font-family:"新細明體",serif'>起，因為節點程式的憑證過期，無法連上</span><span
lang=EN-US>sync.minepi.com</span><span style='font-family:"新細明體",serif'>取得資料，而新節點的</span><span
lang=EN-US>user-preferences.json</span><span style='font-family:"新細明體",serif'>預設情況下又缺少</span><span
lang=EN-US>containerFlavor</span><span style='font-family:"新細明體",serif'>這項參數，造成節點程式不知道要啟動哪個</span><span
lang=EN-US>Container</span><span style='font-family:"新細明體",serif'>，所以就一直轉圈圈。</span></p>

<p class=MsoNormal><span lang=EN-US><img width=601 height=344 id="圖片 9"
src="circling.files/image002.jpg" alt="一張含有 文字 的圖片&#10;&#10;自動產生的描述"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>其實不只</span><span
lang=EN-US>containerFlavor</span><span style='font-family:"新細明體",serif'>，還有</span><span
lang=EN-US>testnetResetCount</span><span style='font-family:"新細明體",serif'>、</span><span
lang=EN-US>stellarConfigVersion</span><span style='font-family:"新細明體",serif'>、</span><span
lang=EN-US>testnetResetLatestNodeUIVersion</span><span style='font-family:"新細明體",serif'>等參數也都是透過</span><span
lang=EN-US>sync.minepi.com</span><span style='font-family:"新細明體",serif'>更新。包括節點的可用率也是，所以現在都顯示「</span><span
lang=EN-US>N/A</span><span style='font-family:"新細明體",serif'>」</span><span
lang=EN-US> (</span><span style='font-family:"新細明體",serif'>可以自行在瀏覽器輸入</span> <span
lang=EN-US>https://sync.minepi.com/node-selection-stats?uuid=xxxxxxxx-xxxx-xxxx-xxxxxxxxxxxxxxxxx
</span><span style='font-family:"新細明體",serif'>來查詢可用率</span><span lang=EN-US>)</span><span
style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>解決方法就是手動修改</span><span
lang=EN-US>user-preferences.json</span><span style='font-family:"新細明體",serif'>的內容。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>先結束節點程式，由</span><span
lang=EN-US>File --&gt; Exit</span><span style='font-family:"新細明體",serif'>，不是按右上的</span><span
lang=EN-US>X</span><span style='font-family:"新細明體",serif'>喔</span></p>

<p class=MsoNormal><span lang=EN-US><img width=596 height=726 id="圖片 2"
src="circling.files/image003.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>找到</span><span
lang=EN-US style='background:yellow'>user-preferences.json</span><span
style='font-family:"新細明體",serif'>，不同的作業系統的路徑不一樣：</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=EN-US>Windows 10</span><span style='font-family:"新細明體",serif'>是位於</span>
<span lang=EN-US style='background:lime'>%appdata%\Pi Network\</span></p>

<p class=MsoListParagraph style='margin-left:24.0pt;text-indent:-24.0pt'><span
lang=EN-US style='font-family:Wingdings'>l<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=EN-US>MAC</span><span style='font-family:"新細明體",serif'>檔案在</span>
<span lang=EN-US style='background:lime'>/Users/</span><i><span
style='font-family:"新細明體",serif;color:red;background:lime'>使用者名稱</span></i><span
lang=EN-US style='background:lime'>/Library/Application Support/Pi Network/</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>不知道</span> <span
lang=EN-US style='background:lime'>%appdata%</span><span lang=EN-US> </span><span
style='font-family:"新細明體",serif'>是什麼的人，請看這篇</span> <span lang=EN-US><a
href="https://yuanrui919.github.io/mvappdata/">https://yuanrui919.github.io/mvappdata/</a>
<span style='color:red'>(</span></span><span style='font-family:"新細明體",serif;
color:red'>只是看看喔，沒有要你改</span><span lang=EN-US style='color:red'>%appdata%)</span><span
style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif;color:red'>為了避免改錯了，請先備份</span><span
lang=EN-US style='color:red'>user-preferences.json</span><span
style='font-family:"新細明體",serif'>，然後用記事本或純文字編輯軟體開啟它，內容如下：</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:Consolas'>{&quot;windowWidth&quot;:800,&quot;windowHeight&quot;:600,&quot;uuid&quot;:&quot;xxxxxxxx-xxxx-xxxx-xxxxxxxxxxxxxxxxx&quot;,&quot;switchStatus&quot;:true,&quot;dockerImage&quot;:&quot;pinetwork/pi-node-docker:latest&quot;<span
style='background:yellow'>}</span></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>在最後的</span> <b><span
lang=EN-US style='background:yellow'>}</span></b><span lang=EN-US> </span><span
style='font-family:"新細明體",serif'>前加上</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:Consolas'>,&quot;containerFlavor&quot;:&quot;stellar&quot;,&quot;testnetResetCount&quot;:&quot;2&quot;,&quot;stellarConfigVersion&quot;:&quot;0.0.9&quot;,&quot;testnetResetLatestNodeUIVersion&quot;:&quot;0.4.4&quot;,&quot;horizonStatusPreference&quot;:false</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>結果就像這樣：</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=1209 height=285
id="圖片 4" src="circling.files/image004.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>注意，這檔案是</span><span
lang=EN-US>JSON</span><span style='font-family:"新細明體",serif'>格式。頭尾用大括號</span><span
lang=EN-US> {} </span><span style='font-family:"新細明體",serif'>包起來的是物件</span><span
lang=EN-US>(object)</span><span style='font-family:"新細明體",serif'>，物件使用</span><span
lang=EN-US> &quot;Key&quot;:&quot;Values&quot; </span><span style='font-family:
"新細明體",serif'>的方式儲存，物件跟物件之間用逗號隔開。如果你打錯字或漏了什麼符號，可能導致格式不正確，請再次檢查。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif;background:yellow'>可以透過</span><span
lang=EN-US style='background:yellow'>JSON Parser</span><span style='font-family:
"新細明體",serif;background:yellow'>來確認格式，網路上很多，例如</span><span style='background:
yellow'> </span><span lang=EN-US><a href="https://jsonformatter.org/json-parser"><span
style='background:yellow'>https://jsonformatter.org/json-parser</span></a><span
style='background:yellow'> </span></span><span style='font-family:"新細明體",serif;
background:yellow'>，複製</span><span lang=EN-US style='background:yellow'>user-preferences.json</span><span
style='font-family:"新細明體",serif;background:yellow'>的內容，貼上去檢查。</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=1887 height=701
id="圖片 5" src="circling.files/image005.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>重新執行節點程式，如果還在轉圈圈，一定是</span><span
lang=EN-US>user-preferences.json</span><span style='font-family:"新細明體",serif'>格式錯誤，請重新修正</span>
<span lang=EN-US>(</span><span style='font-family:"新細明體",serif'>剛才有記得備份吧</span><span
lang=EN-US>)</span><span style='font-family:"新細明體",serif'>。開小紅點，並觀察</span><span
lang=EN-US>Docker</span><span style='font-family:"新細明體",serif'>，</span><span
lang=EN-US>Containers</span><span style='font-family:"新細明體",serif'>會多出一個</span><span
lang=EN-US>pi-consensus (</span><span style='font-family:"新細明體",serif'>下載</span><span
lang=EN-US>image</span><span style='font-family:"新細明體",serif'>檔可能需要幾分鐘的時間</span><span
lang=EN-US>)</span><span style='font-family:"新細明體",serif'>，注意看它的</span><span
lang=EN-US>Log</span><span style='font-family:"新細明體",serif'>，等它出現「</span><span
lang=EN-US style='color:red'>setllar-core entered RUNNING state</span><span
style='font-family:"新細明體",serif'>」這一行就成功了。</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=1201 height=627
id="圖片 7" src="circling.files/image006.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:"新細明體",serif'>再檢查</span><span
lang=EN-US>%appdata%\Pi Network\user-preferences.json</span><span
style='font-family:"新細明體",serif'>，最後應該多出一段</span><span lang=EN-US> (</span><span
style='font-family:"新細明體",serif'>如果沒有，過幾分鐘再看看</span><span lang=EN-US>)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:Consolas'>,&quot;stellarSecretSeed&quot;:&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<div style='border:none;border-bottom:solid windowtext 1.0pt;padding:0cm 0cm 1.0pt 0cm'>

<p class=MsoNormal style='border:none;padding:0cm'><span style='font-family:
"新細明體",serif'>另外，有少數人曾經在</span><span lang=EN-US>2022/3/14</span><span
style='font-family:"新細明體",serif'>之前安裝節點</span><span lang=EN-US>(</span><span
style='font-family:"新細明體",serif'>且沒有獲得</span><span lang=EN-US>pi-consensus
Container</span><span style='font-family:"新細明體",serif'>，只有</span><span
lang=EN-US>stellar-dummy Container)</span><span style='font-family:"新細明體",serif'>，但後來因為某些原因在</span><span
lang=EN-US>2022/3/14~2022/10/1</span><span style='font-family:"新細明體",serif'>這段期間關機了，直到</span><span
lang=EN-US>2022/10/1</span><span style='font-family:"新細明體",serif'>以後才開機的人，他的</span><span
lang=EN-US>containerFlavor</span><span style='font-family:"新細明體",serif'>的值是</span>
<span lang=EN-US>&quot;dummy&quot;</span><span style='font-family:"新細明體",serif'>，也是需要改成</span>
<span lang=EN-US>&quot;stellar&quot;</span><span style='font-family:"新細明體",serif'>。</span></p>

<p class=MsoNormal style='border:none;padding:0cm'><span lang=EN-US>&nbsp;</span></p>

</div>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US><a
href="https://yuanrui919.github.io/"><span lang=EN-US style='font-family:"新細明體",serif'><span
lang=EN-US>回首頁</span></span></a></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
